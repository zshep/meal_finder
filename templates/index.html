{% extends "layout.html" %}

{% block main %}

<container>
    <h1 class="justify-center">Welcome {{ user_name }}</h1>

    <div>
        <p>The week's meals at a glance</p>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Sunday</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                </tr>
            </thead>
            <!-- need to add in jinja code to display proper food/menu items-->
            
            
            <tbody>
                <td id="sunday">
                    {% for meal in meal_plan%}
                        {% if meal[2] == 0 %}
                            {{ meal[0] }}
                            <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                        {% else %}
                        {% endif %}
                    {% endfor %}</td>
                <td id="monday">{% for meal in meal_plan%}
                    {% if meal[2] == 1 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
                <td id="tuesday">{% for meal in meal_plan%}
                    {% if meal[2] == 2 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
                <td id="wednesday">{% for meal in meal_plan%}
                    {% if meal[2] == 3 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
                <td id="thursday">{% for meal in meal_plan%}
                    {% if meal[2] == 4 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
                <td id="friday">{% for meal in meal_plan%}
                    {% if meal[2] == 5 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
                <td id="saturday">{% for meal in meal_plan%}
                    {% if meal[2] == 6 %}
                        {{ meal[0] }}
                        <button class="btn btn-danger btn-sm" onClick="delete_mp(this.id)" id="{{ meal[2] }}">Delete</button>
                    {% else %}
                    {% endif %}
                {% endfor %}</td>
            </tbody>
            
                        


        </table>
    </div>

    <form action="/mealplan" method="post" class="d-flex flex-coloumn justify-content-center">

        <div class="flex-coloumn">
            <!--container for choosing a meal-->
            <div class="flex-coloumn">
                <select class="form-select" aria-label="mealoptions" name="meal">
                    
                        <option selected>Choose a Meal</option>
                        <!--<option value="Random">Random</option> -->
                        {% for meal in meals %}
                        
                        <option value="{{ meal[1] }}">{{ meal[0] }}</option>
                                       
                
                    {% endfor %}

                </select>

            </div>

            <!-- container for choosing a day to add said meal to-->
            <div class="flex-coloumn">
                <select class="form-select" aria-label="dayOptions" name="day">
                    <option selected>Choose a day</option>

                    <option value="0">Sunday</option>
                    <option value="1">Monday</option>
                    <option value="2">Tuesday</option>
                    <option value="3">Wednesday</option>
                    <option value="4">Thursday</option>
                    <option value="5">Friday</option>
                    <option value="6">Saturday</option>

                </select>
            </div>

            <button class="btn btn-success">Submit</button>
        </div>


    </form>

</container>

{% endblock %}




